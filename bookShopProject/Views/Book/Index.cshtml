@model IEnumerable<bookShopProject.Models.books>
@{
    ViewBag.Title = "Index";
}
<div class="Content">
    <h2>Index</h2>

    <p>
        @Html.ActionLink("Create New", "Create")
    </p>
    <ul>
        @foreach (var item in ViewBag.CategoryList)
        {
            <li>@Html.ActionLink((string)item.Type, "showBookByCategory", new { type = item.Type })</li>
        }
    </ul>
    @Html.DropDownList("items", ViewData["items"] as List<SelectListItem>, new { @class = "form-select" })

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.author)
        </th>
        <th>

            @Html.DisplayNameFor(model => model.title)

        </th>
        <th>

            @Html.DisplayNameFor(model => model.description)

        </th>
        <th>
            @Html.DisplayNameFor(model => model.publisher)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.quantity)

        </th>
        <th>
            @Html.DisplayNameFor(model => model.Price)

        </th>
        <th>
            @Html.DisplayNameFor(model => model.Category.Type)

        </th>
        <th>
            @Html.DisplayNameFor(model => model.url)

        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        if (item.quantity > 0)
        {

    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.author)
        </td>

        <td>
            @Html.DisplayFor(modelItem => item.title)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.description)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.publisher)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.quantity)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Price)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Category.Type)
        </td>
        <td>
            <a href='@Url.Action("Details", "book", new { id = item.id })'>
                <img src="@Url.Content(item.url)" alt=@Url.Content(item.title) />
            </a> 
         </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id = item.id }) |
            @Html.ActionLink("Details", "Details", new { id = item.id }) |
            @Html.ActionLink("Delete", "Delete", new { id = item.id })
            <input type="button" name="buttonAddToCart" value="Add to Cart" class="btn btn-primary" onclick="AddToCart(this,@item.id,@Session["userId"])" />
        </td>
    </tr>

        }
    }

</table>
</div>
    <script src="~/Scripts/addToCart.js"></script>
    <script src="~/Scripts/sortBooks.js"></script>
